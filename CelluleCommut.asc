Version 4
SHEET 1 3136 1132
WIRE -944 -192 -976 -192
WIRE -896 -192 -944 -192
WIRE -640 -192 -688 -192
WIRE -608 -192 -640 -192
WIRE -976 -96 -976 -192
WIRE -688 -96 -688 -192
WIRE 1872 -32 1392 -32
WIRE 2016 -32 1872 -32
WIRE 2288 -32 2096 -32
WIRE -976 32 -976 -16
WIRE -688 32 -688 -16
WIRE 1392 48 1392 -32
WIRE 1344 64 1296 64
WIRE 1344 112 1296 112
WIRE 1872 112 1872 -32
WIRE 2288 144 2288 -32
WIRE -1168 160 -1264 160
WIRE -624 160 -720 160
WIRE -1264 192 -1264 160
WIRE -720 192 -720 160
WIRE 128 192 0 192
WIRE 336 192 192 192
WIRE 608 192 416 192
WIRE 768 192 608 192
WIRE 864 192 768 192
WIRE 1008 192 944 192
WIRE 1392 192 1392 128
WIRE 1392 192 1088 192
WIRE 1456 192 1392 192
WIRE 608 224 608 192
WIRE 1872 224 1872 176
WIRE 1392 240 1392 192
WIRE 0 256 0 192
WIRE 768 256 768 192
WIRE 1344 256 1312 256
WIRE 1344 304 1312 304
WIRE 608 320 608 304
WIRE 0 400 0 336
WIRE 608 400 608 384
WIRE 608 400 0 400
WIRE 768 400 768 320
WIRE 768 400 608 400
WIRE 1392 400 1392 320
WIRE 1392 400 768 400
WIRE 1872 400 1872 304
WIRE 1872 400 1392 400
WIRE 2288 400 2288 224
WIRE 2288 400 1872 400
WIRE -1264 432 -1264 272
WIRE -1168 432 -1264 432
WIRE -720 432 -720 272
WIRE -624 432 -720 432
WIRE 0 432 0 400
FLAG 1456 192 SW_Node
FLAG 0 432 0
FLAG -944 -192 Modulant
FLAG -688 32 0
FLAG -976 32 0
FLAG -640 -192 Triangle
FLAG -1168 160 cmd_L
FLAG -624 160 cmd_H
FLAG 1296 64 cmd_H
FLAG 1312 256 cmd_L
FLAG 1296 112 Ref_H
FLAG -624 432 Ref_H
FLAG 1312 304 Ref_L
FLAG -1168 432 Ref_L
SYMBOL sw 1392 144 M180
SYMATTR InstName k1
SYMATTR Value MYSW
SYMBOL sw 1392 336 M180
SYMATTR InstName k2
SYMATTR Value MYSW
SYMBOL voltage 2288 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 50
SYMBOL voltage -688 -112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -67 189 Left 2
SYMATTR Value PULSE(0 +1 0 {0.5/Freq} {0.5/Freq} 0 {1/Freq} 2000)
SYMATTR InstName V3
SYMBOL voltage -976 -112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 42 67 Left 2
SYMATTR Value 0.364
SYMATTR InstName V4
SYMBOL bv -1264 176 R0
SYMATTR InstName PWM
SYMATTR Value V=if(V(Modulant)>V(Triangle),5,0)
SYMBOL bv -720 176 R0
SYMATTR InstName PWM1
SYMATTR Value V=if(V(Modulant)<V(Triangle),5,0)
SYMBOL ind 848 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMBOL res 1104 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 0.01
SYMBOL voltage 0 240 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 32.8
SYMBOL cap 1856 112 R0
SYMATTR InstName C1
SYMATTR Value 272µ
SYMBOL res 1856 208 R0
SYMATTR InstName R_ESR
SYMATTR Value 4m
SYMBOL res 2112 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1.66
SYMBOL cap 752 256 R0
SYMATTR InstName C2
SYMATTR Value 68µ
SYMBOL ind 320 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 3µ
SYMBOL res 592 208 R0
SYMATTR InstName R3
SYMATTR Value 0.5
SYMBOL cap 592 320 R0
SYMATTR InstName C3
SYMATTR Value 680µ
SYMBOL diode 128 208 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
TEXT 0 -152 Left 2 !.model MYSW SW(Ron=1m Roff=1Meg Vt=2)
TEXT -568 -344 Left 2 !.tran 0 10m 0 10n
TEXT 0 -112 Left 2 ;http://www.linear.com/solutions/5735
TEXT -64 -408 Left 4 ;Modele du pont en H
TEXT -576 -416 Left 4 ;Commande
TEXT -568 -368 Left 2 !.param Freq=100k
TEXT 2224 136 Left 2 ;UBatt
TEXT -920 -264 Left 2 ;Generation PWM (MLI)
TEXT 2176 -192 Left 2 !;op 0 1m 0 10n
TEXT 112 72 Left 2 !.ic I(L1)=4.71
TEXT 1736 -152 Left 2 ;IsMoy maxi = 3A
TEXT 128 -656 Left 2 ;Voir doc de conception.\nL2 C2 pour filtre la partie AC / DC du PV.\nR3 et C3 pour amortir le circuit réalisé (résonance importante L2 C2).
LINE Normal -80 -496 1088 -496 2
LINE Normal 1088 512 -80 512 2
LINE Normal 2464 512 1088 512 2
LINE Normal 2464 -496 2464 512 2
LINE Normal 1088 -496 2464 -496 2
RECTANGLE Normal -1360 496 -80 -496 2
