Version 4
SHEET 1 3136 1132
WIRE -944 -192 -976 -192
WIRE -896 -192 -944 -192
WIRE -640 -192 -688 -192
WIRE -608 -192 -640 -192
WIRE -976 -96 -976 -192
WIRE -688 -96 -688 -192
WIRE 368 -32 0 -32
WIRE 1168 -32 368 -32
WIRE -976 32 -976 -16
WIRE -688 32 -688 -16
WIRE 1168 32 1168 -32
WIRE 368 48 368 -32
WIRE 1280 48 1216 48
WIRE 320 64 256 64
WIRE 1280 96 1216 96
WIRE 320 112 256 112
WIRE 0 144 0 -32
WIRE -1168 160 -1264 160
WIRE -624 160 -720 160
WIRE -1264 192 -1264 160
WIRE -720 192 -720 160
WIRE 368 192 368 128
WIRE 432 192 368 192
WIRE 576 192 432 192
WIRE 688 192 656 192
WIRE 1168 192 1168 112
WIRE 1168 192 768 192
WIRE 1168 224 1168 192
WIRE 368 240 368 192
WIRE 1248 240 1216 240
WIRE 320 256 288 256
WIRE 1248 288 1216 288
WIRE 320 304 288 304
WIRE 0 400 0 224
WIRE 368 400 368 320
WIRE 368 400 0 400
WIRE 1168 400 1168 304
WIRE 1168 400 368 400
WIRE -1264 432 -1264 272
WIRE -1168 432 -1264 432
WIRE -720 432 -720 272
WIRE -624 432 -720 432
WIRE 0 432 0 400
FLAG 432 192 SW_Node
FLAG 0 432 0
FLAG -944 -192 Modulant
FLAG -688 32 0
FLAG -976 32 0
FLAG -640 -192 Triangle
FLAG -1168 160 cmd_L
FLAG -624 160 cmd_H
FLAG 256 64 cmd_H
FLAG 288 256 cmd_L
FLAG 256 112 Ref_H
FLAG -624 432 Ref_H
FLAG 1280 48 cmd_L
FLAG 1248 240 cmd_H
FLAG 1280 96 Ref_L
FLAG 288 304 Ref_L
FLAG -1168 432 Ref_L
FLAG 1248 288 Ref_H
SYMBOL sw 368 144 M180
SYMATTR InstName k1
SYMATTR Value MYSW
SYMBOL sw 368 336 M180
SYMATTR InstName k2
SYMATTR Value MYSW
SYMBOL voltage 0 128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL voltage -688 -112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -67 189 Left 2
SYMATTR Value PULSE(0 +1 0 {0.5/Freq} {0.5/Freq} 0 {1/Freq} 2000)
SYMATTR InstName V3
SYMBOL voltage -976 -112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -86 88 Left 2
SYMATTR Value 0.52
SYMATTR InstName V4
SYMBOL bv -1264 176 R0
SYMATTR InstName PWM
SYMATTR Value V=if(V(Modulant)<V(Triangle),5,0)
SYMBOL bv -720 176 R0
SYMATTR InstName PWM1
SYMATTR Value V=if(V(Modulant)>V(Triangle),5,0)
SYMBOL ind 560 208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMATTR SpiceLine Rser=0
SYMBOL res 784 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 0.5
SYMBOL sw 1168 128 R180
SYMATTR InstName k3
SYMATTR Value MYSW
SYMBOL sw 1168 320 R180
SYMATTR InstName k4
SYMATTR Value MYSW
TEXT 0 -152 Left 2 !.model MYSW SW(Ron=0.1m Roff=1Meg Vt=2)
TEXT -568 -344 Left 2 !.tran 0 10m 0 20n
TEXT 0 -112 Left 2 ;http://www.linear.com/solutions/5735
TEXT -64 -408 Left 4 ;Modele du pont en H
TEXT -576 -416 Left 4 ;Commande
TEXT -568 -368 Left 2 !.param Freq=100k
TEXT -64 136 Left 2 ;UBatt
TEXT -920 -264 Left 2 ;Generation PWM (MLI)
TEXT 816 -192 Left 2 !;op 0 1m 0 10n
TEXT 712 104 Left 2 !.ic I(L1)=2
LINE Normal -80 -496 608 -496 2
LINE Normal 608 512 -80 512 2
LINE Normal 1488 512 608 512 2
LINE Normal 1488 -496 1488 512 2
LINE Normal 608 -496 1488 -496 2
RECTANGLE Normal -1360 496 -80 -496 2
