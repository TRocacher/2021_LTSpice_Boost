Version 4
SHEET 1 8532 1300
WIRE 7008 -496 6592 -496
WIRE 5648 -480 5616 -480
WIRE 5696 -480 5648 -480
WIRE 5952 -480 5904 -480
WIRE 5984 -480 5952 -480
WIRE 7008 -448 7008 -496
WIRE 7248 -448 7008 -448
WIRE 7008 -416 7008 -448
WIRE 7248 -400 7248 -448
WIRE 5616 -384 5616 -480
WIRE 5904 -384 5904 -480
WIRE 6848 -336 6784 -336
WIRE 6960 -336 6928 -336
WIRE 7008 -304 7008 -320
WIRE 7248 -304 7248 -336
WIRE 7248 -304 7008 -304
WIRE 5616 -256 5616 -304
WIRE 5904 -256 5904 -304
WIRE 7008 -176 7008 -304
WIRE 7136 -176 7008 -176
WIRE 7280 -176 7136 -176
WIRE 7472 -176 7360 -176
WIRE 7664 -176 7552 -176
WIRE 5856 -112 5760 -112
WIRE 6592 -112 6592 -496
WIRE 7664 -96 7664 -176
WIRE 5760 -80 5760 -112
WIRE 7008 -48 7008 -176
WIRE 7248 -48 7008 -48
WIRE 7008 -32 7008 -48
WIRE 7248 0 7248 -48
WIRE 6848 48 6784 48
WIRE 6960 48 6928 48
WIRE 7008 112 7008 64
WIRE 7248 112 7248 64
WIRE 7248 112 7008 112
WIRE 6592 144 6592 -32
WIRE 7008 144 7008 112
WIRE 7008 144 6592 144
WIRE 7664 144 7664 -16
WIRE 7664 144 7008 144
WIRE 5760 160 5760 0
WIRE 6592 176 6592 144
WIRE 5296 480 5008 480
WIRE 5472 480 5360 480
WIRE 6048 480 5664 480
WIRE 4992 512 4768 512
WIRE 5008 512 5008 480
WIRE 5008 512 4992 512
WIRE 5024 512 5008 512
WIRE 5136 512 5104 512
WIRE 5296 512 5136 512
WIRE 5664 528 5664 480
WIRE 5136 544 5136 512
WIRE 5136 640 5136 608
WIRE 5664 640 5664 608
WIRE 6048 640 5664 640
WIRE 6048 736 5664 736
WIRE 5296 768 5056 768
WIRE 5664 784 5664 736
WIRE 4992 800 4992 512
WIRE 5056 800 5056 768
WIRE 5056 800 4992 800
WIRE 5104 800 5056 800
WIRE 5232 800 5184 800
WIRE 5296 800 5232 800
WIRE 5472 800 5360 800
WIRE 5232 848 5232 800
WIRE 5664 912 5664 864
WIRE 5232 944 5232 912
FLAG 6592 176 0
FLAG 5648 -480 Modulant
FLAG 5904 -256 0
FLAG 5616 -256 0
FLAG 5952 -480 Triangle
FLAG 5760 160 0
FLAG 5856 -112 cmd
FLAG 5136 640 0
FLAG 4768 512 cmd
FLAG 5472 480 HO_interne
FLAG 6048 480 HO
FLAG 5232 944 0
FLAG 5664 912 0
FLAG 6048 736 LO
FLAG 5472 800 LO_Interne
FLAG 6784 -336 HO
FLAG 6784 48 LO
FLAG 7136 -176 SW_Node
FLAG 6048 640 SW_Node
SYMBOL voltage 6592 -128 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL voltage 5904 -400 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -67 189 Left 2
SYMATTR Value PULSE(0 +1 0 {0.5/Freq} {0.5/Freq} 0 {1/Freq} 2000)
SYMATTR InstName V3
SYMBOL voltage 5616 -400 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 44 Left 2
SYMATTR Value 0.5
SYMATTR InstName V4
SYMBOL bv 5760 -96 R0
SYMATTR InstName PWM
SYMATTR Value V=if(V(Modulant)>V(Triangle),1,0)
SYMBOL nmos 6960 -416 R0
SYMATTR InstName M1
SYMATTR Value Si7998DP_2
SYMBOL Digital\\and 5328 432 R0
SYMATTR InstName A1
SYMBOL res 5120 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL cap 5120 544 R0
SYMATTR InstName C1
SYMATTR Value 550p
SYMBOL bv 5664 512 R0
SYMATTR InstName HOgen
SYMATTR Value V=if(V(HO_interne)>0.5,10,0)
SYMBOL Digital\\or 5328 720 R0
SYMATTR InstName A2
SYMBOL cap 5216 848 R0
SYMATTR InstName C2
SYMATTR Value 550p
SYMBOL res 5200 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL bv 5664 768 R0
SYMATTR InstName LOgen
SYMATTR Value V=if(V(LO_interne)>0.5,10,0)
SYMBOL res 6944 -352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 5
SYMBOL res 6944 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 5
SYMBOL ind 7264 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100µ
SYMBOL res 7568 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 0.1
SYMBOL voltage 7664 -112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 11
SYMBOL nmos 6960 -32 R0
SYMATTR InstName M2
SYMATTR Value Si7998DP_2
SYMBOL diode 7264 -336 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -91 -3 Left 2
SYMATTR InstName D1
SYMATTR Value MyDiode
SYMBOL diode 7264 64 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -91 -3 Left 2
SYMATTR InstName D2
SYMATTR Value MyDiode
TEXT 6592 -616 Left 2 !.model MYSW SW(Ron=1m Roff=1Meg Vt=0)
TEXT 6024 -632 Left 2 !.tran 0 5m 0 20n
TEXT 6592 -576 Left 2 ;http://www.linear.com/solutions/5735
TEXT 6528 -696 Left 4 ;Modele du pont en H
TEXT 6016 -704 Left 4 ;Commande
TEXT 6024 -656 Left 2 !.param Freq=100k
TEXT 6528 -152 Left 2 ;UBatt
TEXT 5672 -552 Left 2 ;Generation PWM (MLI)
TEXT 4872 344 Left 2 ;IR7184 simulé
TEXT 5040 272 Left 2 ;Dead time typique 400ns
TEXT 4920 -344 Left 2 !;op 0 5m 0 20n uic
TEXT 7288 -264 Left 2 !.IC I(L1)=0
TEXT 6992 400 Left 2 ;prévoir IC I(L1) = ... pour ne pas initialiser le courant à (Vbatt -Vch) /R = beaucoup !!
TEXT 6992 368 Left 2 ;ATTENTION
TEXT 7376 -464 Left 2 !.model MyDiode D(Ron=1 Roff=1Meg Vfwd=1 Vrev=2)
LINE Normal 6512 -784 8032 -784 2
LINE Normal 8032 224 6512 224 2
LINE Normal 8528 224 8032 224 2
LINE Normal 8528 -784 8528 224 2
LINE Normal 8032 -784 8528 -784 2
LINE Normal 5488 -784 5488 -784 2
LINE Normal 5488 224 5504 224 2
RECTANGLE Normal 5488 224 6512 -784 2
RECTANGLE Normal 6000 1008 4864 368 2
